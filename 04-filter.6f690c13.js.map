{"mappings":"AAAA,MACMA,EAAaC,SAASC,cAAc,gBACpCC,EAAeF,SAASC,cAAc,UACtCE,EAAcH,SAASC,cAAc,SACrCG,EAAkBJ,SAASC,cAAc,cAwC/C,WACE,IAAII,EAAcC,aAAaC,QA7Cb,kBA8CdF,IACFA,EAAcG,KAAKC,MAAMJ,GACzBK,QAAQC,IAAIN,GAEZO,OAAOC,QAAQR,GAAaS,SAAQ,EAAEC,EAAMC,MAE1CjB,EAAWkB,SAASF,GAAMC,MAAQA,CAAK,IAEzCd,EAAagB,YAAcb,EAAYc,MACvChB,EAAYe,YAAcb,EAAYe,KACtChB,EAAgBc,YAAcb,EAAYgB,S,CA/C9CC,GAEAvB,EAAWwB,iBAAiB,UAS5B,SAAsBC,GACpBA,EAAEC,iBAGFf,QAAQC,IAAIH,KAAKC,MAAMH,aAAaC,QAxBlB,mB,IAYpBR,EAAWwB,iBAAiB,UAe5B,SAAsBC,GAKpB,IAAInB,EAAcC,aAAaC,QAhCb,kBAiClBF,EAAcA,EAAcG,KAAKC,MAAMJ,GAAe,GACtDA,EAAYmB,EAAEE,OAAOX,MAAQS,EAAEE,OAAOV,MAGtCd,EAAagB,YAAcb,EAAYc,MACvChB,EAAYe,YAAcb,EAAYe,KACtChB,EAAgBc,YAAcb,EAAYgB,SAE1Cf,aAAaqB,QAzCK,iBAyCgBnB,KAAKoB,UAAUvB,G,IA5BnDN,EAAWwB,iBAAiB,SAAS,KACnCrB,EAAagB,YAAc,MAC3Bf,EAAYe,YAAc,MAC1Bd,EAAgBc,YAAc,MAC9BZ,aAAauB,WAjBK,iBAiBkB","sources":["src/js/04-filter.js"],"sourcesContent":["const STORAGE_KEY = 'selectedFilter';\nconst filterForm = document.querySelector('.filter-form');\nconst colorPropRef = document.querySelector('.color');\nconst sizePropRef = document.querySelector('.size');\nconst materialPropRef = document.querySelector('.material');\n\n// const selectedFilter = {};\n// console.log(selectedFilter);\n\ninitialForm();\n\nfilterForm.addEventListener('submit', onFormSubmit);\nfilterForm.addEventListener('change', onFormChange);\nfilterForm.addEventListener('reset', () => {\n  colorPropRef.textContent = '---';\n  sizePropRef.textContent = '---';\n  materialPropRef.textContent = '---';\n  localStorage.removeItem(STORAGE_KEY);\n});\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  // const formData = new FormData(filterForm);\n  // formData.forEach((value, name) => console.log(value, name));\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n}\n\nfunction onFormChange(e) {\n  //---1---\n  // selectedFilter[e.target.name] = e.target.value;\n  // localStorage.setItem(STORAGE_KEY, JSON.stringify(selectedFilter));\n  //---2---\n  let savedFilter = localStorage.getItem(STORAGE_KEY);\n  savedFilter = savedFilter ? JSON.parse(savedFilter) : {};\n  savedFilter[e.target.name] = e.target.value;\n  // console.log(savedFilter);\n  // console.log(savedFilter.size);\n  colorPropRef.textContent = savedFilter.color;\n  sizePropRef.textContent = savedFilter.size;\n  materialPropRef.textContent = savedFilter.material;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(savedFilter));\n}\n\nfunction initialForm() {\n  let savedFilter = localStorage.getItem(STORAGE_KEY);\n  if (savedFilter) {\n    savedFilter = JSON.parse(savedFilter);\n    console.log(savedFilter);\n    // console.log(savedFilter.size);\n    Object.entries(savedFilter).forEach(([name, value]) => {\n      // selectedFilter[name] = value;\n      filterForm.elements[name].value = value;\n    });\n    colorPropRef.textContent = savedFilter.color;\n    sizePropRef.textContent = savedFilter.size;\n    materialPropRef.textContent = savedFilter.material;\n  }\n}\n"],"names":["$0758f30d4da34a6f$var$filterForm","document","querySelector","$0758f30d4da34a6f$var$colorPropRef","$0758f30d4da34a6f$var$sizePropRef","$0758f30d4da34a6f$var$materialPropRef","savedFilter","localStorage","getItem","JSON","parse","console","log","Object","entries","forEach","name","value","elements","textContent","color","size","material","$0758f30d4da34a6f$var$initialForm","addEventListener","e","preventDefault","target","setItem","stringify","removeItem"],"version":3,"file":"04-filter.6f690c13.js.map"}